From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: acrylic-style <me@acrylicstyle.xyz>
Date: Wed, 10 Jun 2020 13:20:03 +0900
Subject: [PATCH] Figure out why InventoryClickEvent isn't calling - drop when
 resolved


diff --git a/src/main/java/net/minecraft/server/PlayerConnection.java b/src/main/java/net/minecraft/server/PlayerConnection.java
index 372ecbefdaaa6b2d02c8c7cf9b2827cf52e6324b..f89e8b155263e5ea70f0e2eca2719595ca4dba0e 100644
--- a/src/main/java/net/minecraft/server/PlayerConnection.java
+++ b/src/main/java/net/minecraft/server/PlayerConnection.java
@@ -2181,6 +2181,7 @@ public class PlayerConnection implements PacketListenerPlayIn {
             } else {
                 // CraftBukkit start - Call InventoryClickEvent
                 if (packetplayinwindowclick.c() < -1 && packetplayinwindowclick.c() != -999) {
+                    System.out.println("Invalid slot, skipping firing InventoryClickEvent"); // Paper - TODO: figure out why InventoryClickEvent isn't calling
                     return;
                 }
 
@@ -2445,7 +2446,7 @@ public class PlayerConnection implements PacketListenerPlayIn {
                         // correctly support custom recipes
                         player.updateInventory(player.activeContainer);
                     }
-                }
+                } else System.out.println("Quick craft, ignoring"); // Paper - TODO: figure out why InventoryClickEvent isn't calling
                 // CraftBukkit end
                 if (ItemStack.matches(packetplayinwindowclick.f(), itemstack)) {
                     this.player.playerConnection.sendPacket(new PacketPlayOutTransaction(packetplayinwindowclick.b(), packetplayinwindowclick.e(), true));
