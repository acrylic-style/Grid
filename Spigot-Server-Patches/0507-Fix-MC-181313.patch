From 41130910784382868abd5f2a99bc523a4ad3fdd4 Mon Sep 17 00:00:00 2001
From: acrylic-style <me@acrylicstyle.xyz>
Date: Wed, 29 Apr 2020 22:44:01 +0900
Subject: [PATCH] Fix MC-181313


diff --git a/src/main/java/net/minecraft/server/EntityArrow.java b/src/main/java/net/minecraft/server/EntityArrow.java
index 9c97edf9c..4b0c4da54 100644
--- a/src/main/java/net/minecraft/server/EntityArrow.java
+++ b/src/main/java/net/minecraft/server/EntityArrow.java
@@ -347,7 +347,8 @@ public abstract class EntityArrow extends Entity implements IProjectile {
         }
 
         if (this.isCritical()) {
-            i += this.random.nextInt(i / 2 + 2);
+            int bound = i / 2 + 2;
+            i += this.random.nextInt(bound < 0 ? Integer.MAX_VALUE : bound); // Paper - Fixes MC-181313
         }
 
         Entity entity1 = this.getShooter();
-- 
2.21.0.windows.1

